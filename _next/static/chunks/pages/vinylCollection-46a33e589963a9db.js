(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[659],{437:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/vinylCollection",function(){return t(5110)}])},5110:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return T}});var r=t(7568);function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return a(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a(e,n)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i=t(414),l=t(5893),s=t(4184),u=t.n(s);function c(e,n){if(n.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+n.length+" present")}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){c(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||"object"===d(e)&&"[object Date]"===n?new Date(e.getTime()):"number"==typeof e||"[object Number]"===n?new Date(e):(("string"==typeof e||"[object String]"===n)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}var h=t(5152),m=t.n(h),b=t(9008),p=t.n(b),g=t(5675),y=t.n(g),v=t(7294),x=function(e){return(0,l.jsx)("select",{className:"block appearance-none rounded border border-gray-400 bg-white py-1 px-10 leading-tight focus:outline-none",onChange:e.handleChange,value:e.value,children:e.options.map(function(e,n){return(0,l.jsx)("option",{value:e.value,children:e.label},n)})})},j=t(1348),A=t(9384),C=m()(function(){return Promise.all([t.e(536),t.e(205)]).then(t.bind(t,205))},{loadableGenerated:{webpack:function(){return[205]}},ssr:!1}),S={ASC:"ASC",DESC:"DESC"},w={DATE:"DATE",NAME:"NAME"},E=function(e,n,t){var r,a,i,l;return n===w.DATE?e&&0!==e.length?o(e).sort(function(e,n){var r=e.dateAdded,a=n.dateAdded,o=new Date(r),i=new Date(a);return t===S.ASC?function(e,n){c(2,arguments);var t=f(e),r=f(n),a=t.getTime()-r.getTime();return a<0?-1:a>0?1:a}(o,i):function(e,n){c(2,arguments);var t=f(e),r=f(n),a=t.getTime()-r.getTime();return a>0?-1:a<0?1:a}(o,i)}):[]:e&&0!==e.length?o(e).sort(function(e,n){var r=(0,A.x)(e.artists,"and"),a=(0,A.x)(n.artists,"and");if(t===S.DESC){var o=r.localeCompare(a);return 0===o?e.album.localeCompare(n.album):o}var i=a.localeCompare(r);return 0===i?n.album.localeCompare(e.album):i}):[]},D=function(e){var n=new Date(e.dateAdded).toLocaleDateString();return(0,l.jsx)("div",{className:u()("relative p-4","align-center flex flex-wrap"),children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(y(),{alt:"Image didn't load",className:u()({"blur-sm":e.needsBlur},"w-150 h-150 mr-4"),height:"150",src:e.thumbnail,width:"150"})," ",(0,l.jsxs)("p",{className:"ml-2 text-5xl text-white",children:[(0,l.jsx)("strong",{children:1===e.artists.length?"Artist:":"Artists:"})," ",(0,A.x)(e.artists,"and"),(0,l.jsx)("br",{}),(0,l.jsx)("strong",{children:"Album:"})," ",e.album,(0,l.jsx)("br",{}),(0,l.jsx)("strong",{children:"Date Added:"})," ",n]})]})})},N=function(e){return(0,l.jsx)("ol",{children:e.vinylCollection.map(function(e,n){return(0,l.jsx)("li",{children:(0,l.jsx)(D,{album:e.album,artists:e.artists,dateAdded:e.dateAdded,needsBlur:e.needsBlur,thumbnail:e.thumbnail})},n)})})},T=function(){var e,n=(0,v.useState)(S.ASC),t=n[0],a=n[1],o=(0,v.useState)(w.NAME),s=o[0],u=o[1],c=(0,v.useState)([]),d=c[0],f=c[1],h=(e=(0,r.Z)(function(){var e,n,t,r,a;return(0,i.__generator)(this,function(t){switch(t.label){case 0:e="https://ch9mysodje.execute-api.us-east-1.amazonaws.com/vinyl-collection",n={method:"GET"},t.label=1;case 1:return t.trys.push([1,4,,5]),[4,fetch(e,n)];case 2:return[4,t.sent().json()];case 3:return f(t.sent()),[3,5];case 4:return a=t.sent(),console.log(a),[3,5];case 5:return[2]}})}),function(){return e.apply(this,arguments)});(0,v.useEffect)(function(){h()},[]);var m={handleChange:function(e){a(e.target.value)},options:[{label:"Ascending",value:"ASC"},{label:"Descending",value:"DESC"},]},b={handleChange:function(e){u(e.target.value)},options:[{label:"Name",value:"NAME"},{label:"Date Added",value:"DATE"},]};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(p(),{children:(0,l.jsx)("title",{children:"My Vinyl Collection"})}),(0,l.jsx)(C,{sections:j.D6}),(0,l.jsxs)("div",{children:[(0,l.jsx)("br",{}),(0,l.jsx)("strong",{children:(0,l.jsx)("h1",{children:"My Vinyl Collection"})}),0===d.length?(0,l.jsx)("p",{children:"My vinyl collection is loading."}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("br",{}),(0,l.jsx)(x,{handleChange:m.handleChange,options:m.options,value:t}),(0,l.jsx)("br",{}),(0,l.jsx)(x,{handleChange:b.handleChange,options:b.options,value:s}),(0,l.jsx)("br",{}),(0,l.jsx)(N,{vinylCollection:E(d,s,t)})]})]})]})}},7568:function(e,n,t){"use strict";function r(e,n,t,r,a,o,i){try{var l=e[o](i),s=l.value}catch(u){t(u);return}l.done?n(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var n=this,t=arguments;return new Promise(function(a,o){var i=e.apply(n,t);function l(e){r(i,a,o,l,s,"next",e)}function s(e){r(i,a,o,l,s,"throw",e)}l(void 0)})}}t.d(n,{Z:function(){return a}})}},function(e){e.O(0,[46,294,348,774,888,179],function(){return e(e.s=437)}),_N_E=e.O()}]);