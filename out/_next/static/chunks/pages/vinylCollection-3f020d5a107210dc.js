(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[659],{437:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/vinylCollection",function(){return n(2264)}])},2264:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var r=n(7568);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i=n(414),s=n(5893),l=n(4184),u=n.n(l);function c(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e){c(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===d(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}var m=n(5152),h=n.n(m),b=n(9008),p=n.n(b),g=n(5675),y=n.n(g),j=n(7294),v=n(1348),x=n(9384),A=h()(function(){return Promise.all([n.e(536),n.e(205)]).then(n.bind(n,205))},{loadableGenerated:{webpack:function(){return[205]}},ssr:!1}),S={ASC:"ASC",DESC:"DESC"},w={DATE:"DATE",NAME:"NAME"},E=function(e){var t=new Date(e.dateAdded).toLocaleDateString();return(0,s.jsx)("div",{className:u()("relative p-4","align-center flex flex-wrap"),children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y(),{alt:"Image didn't load",className:u()(e.needsBlur?"blur-sm":void 0,"w-150 h-150 mr-4"),height:"150",src:e.thumbnail,width:"150"})," ",(0,s.jsxs)("p",{className:"ml-2 text-5xl",children:[(0,s.jsx)("strong",{children:1===e.artists.length?"Artist:":"Artists:"})," ",(0,x.x)(e.artists,"and"),(0,s.jsx)("br",{}),(0,s.jsx)("strong",{children:"Album:"})," ",e.album,(0,s.jsx)("br",{}),(0,s.jsx)("strong",{children:"Date Added:"})," ",t]})]})})},C=function(){var e,t=(0,j.useState)(S.ASC),n=t[0],o=t[1],l=(0,j.useState)(w.NAME),u=l[0],d=l[1],m=(0,j.useState)([]),h=m[0],b=m[1],g=(e=(0,r.Z)(function(){var e,t,r,o,a,s;return(0,i.__generator)(this,function(r){switch(r.label){case 0:e="https://ch9mysodje.execute-api.us-east-1.amazonaws.com/vinyl-collection",t={method:"GET"},r.label=1;case 1:return r.trys.push([1,4,,5]),[4,fetch(e,t)];case 2:return[4,r.sent().json()];case 3:return a=k(r.sent(),n),b(a),[3,5];case 4:return s=r.sent(),console.log(s),[3,5];case 5:return[2]}})}),function(){return e.apply(this,arguments)});(0,j.useEffect)(function(){g()},[]);var y,C,D,N,T,_=function(e){o(e.target.value)},M=function(e){d(e.target.value)},k=function(e,t){return e&&0!==e.length?a(e).sort(function(e,n){var r=(0,x.x)(e.artists,"and"),o=(0,x.x)(n.artists,"and");if(t===S.DESC){var a=r.localeCompare(o);return 0===a?e.album.localeCompare(n.album):a}var i=o.localeCompare(r);return 0===i?n.album.localeCompare(e.album):i}):[]};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p(),{children:(0,s.jsx)("title",{children:"My Vinyl Collection"})}),(0,s.jsx)(A,{sections:v.D6}),(0,s.jsxs)("div",{children:[(0,s.jsx)("br",{}),(0,s.jsx)("strong",{children:(0,s.jsx)("h1",{children:"My Vinyl Collection"})}),0===h.length?(0,s.jsx)("p",{children:"My vinyl collection is loading."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("br",{}),(0,s.jsxs)("select",{onChange:_,value:n,children:[(0,s.jsx)("option",{value:S.ASC,children:"Ascending"}),(0,s.jsx)("option",{value:S.DESC,children:"Descending"})]}),(0,s.jsx)("br",{}),(0,s.jsxs)("select",{onChange:M,value:u,children:[(0,s.jsx)("option",{value:w.DATE,children:"Date"}),(0,s.jsx)("option",{value:w.NAME,children:"Name"})]}),(0,s.jsx)("br",{}),(0,s.jsx)("ol",{children:(u===w.DATE?(N=h,T=n,N&&0!==N.length?a(N).sort(function(e,t){var n=e.dateAdded,r=t.dateAdded,o=new Date(n),a=new Date(r);return T===S.ASC?function(e,t){c(2,arguments);var n=f(e),r=f(t),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}(o,a):function(e,t){c(2,arguments);var n=f(e),r=f(t),o=n.getTime()-r.getTime();return o>0?-1:o<0?1:o}(o,a)}):[]):k(h,n)).map(function(e,t){return(0,s.jsx)("li",{children:(0,s.jsx)(E,{album:e.album,artists:e.artists,dateAdded:e.dateAdded,needsBlur:e.needsBlur,thumbnail:e.thumbnail})},t)})})]})]})]})}},7568:function(e,t,n){"use strict";function r(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(u){n(u);return}s.done?t(l):Promise.resolve(l).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var i=e.apply(t,n);function s(e){r(i,o,a,s,l,"next",e)}function l(e){r(i,o,a,s,l,"throw",e)}s(void 0)})}}n.d(t,{Z:function(){return o}})}},function(e){e.O(0,[46,294,348,774,888,179],function(){return e(e.s=437)}),_N_E=e.O()}]);